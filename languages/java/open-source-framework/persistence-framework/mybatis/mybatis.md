## 为什么使用数据库连接池技术？
在数据库连接的创建：建立网络连接、分配内存和CPU进行创建的资源准备
数据库连接销毁过程：会释放连接占用的内存、关闭网络连接、释放文件描述符、回收连接池资源和提交未完成的事务、清理临时表或数据等
所以性能有损耗，故使用连接池技术，利用连接池重用技术和管理一组连接的生命周期等

## 什么叫反射和内省
反射（Reflection）和内省（Introspection）是计算机科学中两个相关的概念，用于描述在运行时获取和操作程序的结构和信息的能力。
反射（Reflection）：反射是指在**程序运行时**，通过检查、分析和修改程序结构、状态和行为的能力。它允许程序在运行时动态地获取和操作类、对象、方法、属性等元素的信息。通过反射，程序可以在运行时获取类的成员、调用方法、访问和修改属性，而不需要在编译时提前知道这些信息。反射通常提供了一组API，用于获取和操作程序结构的元数据，如Java中的java.lang.reflect包。
内省（Introspection）：内省是指在**程序运行时**，通过检查对象的属性和方法来获取其结构和信息的能力。它允许程序在运行时分析对象的类型，获取对象的属性和方法列表，并对其进行操作。与反射不同，内省主要关注对象的内部结构和特性，而不是对类和方法进行操作。内省通常提供了一组API，用于获取和操作对象的属性和方法信息，如Java中的java.beans.Introspector类。
反射和内省在许多编程语言中都有广泛的应用。它们提供了一种动态地获取和操作程序结构的能力，使开发人员能够编写更加灵活和通用的代码。然而，反射和内省的使用也需要小心，因为它们可能会带来一些性能开销和复杂性，并且使代码更加难以理解和维护。因此，在使用反射和内省时需要权衡利弊，遵循适当的设计原则和最佳实践。

在Java中，反射和内省有广泛的应用场景，以下是一些常见的应用场景：

动态加载类和实例化对象：通过反射，可以在运行时动态加载类，并使用类的构造函数实例化对象。这在需要根据配置或用户输入来决定类和对象的情况下非常有用，例如插件系统、依赖注入框架等。
获取和操作对象的属性和方法：通过反射和内省，可以在运行时获取对象的属性和方法信息，并对其进行操作。这对于实现通用的数据绑定、对象序列化、属性拷贝、动态代理等功能非常有用。
调用和扩展框架的功能：通过反射，可以使用框架提供的API动态地调用和扩展框架的功能。例如，JUnit测试框架使用反射来查找和执行测试方法，Spring框架使用反射来进行依赖注入和AOP代理等。
序列化和反序列化：反射在序列化和反序列化过程中起着重要的作用。通过反射，可以动态地访问和操作对象的属性，将对象转换为字节流或其他格式进行存储或传输，然后再恢复为对象。
动态代理：反射可以用于实现动态代理模式，通过创建代理类来代理原始对象，并在方法调用前后进行额外的操作。例如，Java中的java.lang.reflect.Proxy类提供了创建动态代理对象的功能。
注解处理：反射可以用于处理注解，通过反射获取类、方法、字段上的注解信息，并根据注解信息执行相应的逻辑。这在实现自定义注解处理器、AOP框架等方面非常有用。

Java Agent是一种Java技术，用于在程序运行时通过Java Virtual Machine (JVM) 的Instrumentation API对字节码进行转换和操作。
Java Agent通常以代理方式注入到Java应用程序中，可以在应用程序启动时或在运行过程中对字节码进行修改、增强和监视。通过Java Agent，可以实现一些高级的功能，如性能监控、代码增强、AOP（面向切面编程）等。
Java Agent操作的是字节码层面，能够在应用程序加载类之前或之后对类进行修改，而不仅仅是访问和操作类的结构和状态

反射（Reflection）的记忆：将"反射"与反射镜联系起来。反射镜可以反射光线，让人们能够看到自己的影像。类似地，反射（Reflection）让程序能够看到自身的结构和行为。
内省（Introspection）的记忆：将"内省"与内心联系起来。内省（Introspection）让程序能够观察和了解自身的结构和信息，类似于人们观察和反思自己的内心状态

## mybatis的mapper.xml将查询的结果反射到对应的对象实体里
即定义一个参数对象，然后取到对象的当前属性值插入到对应的sql中

总结mybatis创建的流程


为什么要集成序列化  因为有的数据存在内存 有的数据存在硬盘



**配置文件**：MyBatis 使用 XML 配置文件来定义数据源、映射器（Mapper）和其他相关设置。配置文件中包含了数据库连接信息、SQL 映射语句和全局配置等。
通过配置文件创建对应的数据库信息和映射mapper文件的位置

**数据库连接**：MyBatis 支持多种数据库连接方式，包括基本的 JDBC 连接、连接池等。你可以在配置文件中指定连接信息，以便 MyBatis 建立与数据库的连接。

映射器（Mapper）：映射器是 MyBatis 的核心组件，它定义了 SQL 语句和 Java 对象之间的映射关系。映射器文件中包含了 SQL 语句和结果映射配置，用于执行数据库操作和将结果映射到 Java 对象。
创建代理实例，这样就不用生成对应的mapper.xml文件，类似于convertor生成赌对应的方法

SQL 语句：MyBatis 支持使用原生 SQL 语句或使用 #{...} 占位符的动态 SQL 语句。你可以在映射器文件中编写 SQL 语句，通过参数传递和结果映射来执行数据库操作。

参数处理：MyBatis 支持将参数传递给 SQL 语句，可以通过 #{...} 占位符将参数传递给 SQL 语句中的参数位置。参数可以是简单类型、Java 对象或集合类型。

结果映射：MyBatis 提供了多种方式来将查询结果映射到 Java 对象，包括基于列名的映射、嵌套映射、关联映射等。你可以在映射器文件中定义结果映射关系，将查询结果转换为 Java 对象。

动态 SQL：MyBatis 支持动态 SQL，可以根据条件动态生成 SQL 语句。你可以使用 <if>、<choose>、<when>、<otherwise> 等标签来编写动态 SQL。

缓存：MyBatis 提供了一级缓存和二级缓存来提高查询性能。一级缓存是会话级别的缓存，而二级缓存是全局级别的缓存。你可以在配置文件中配置缓存策略和启用缓存功能。
1.一级缓存：即sqlsession级别的缓存，是开启的；可通过sqlsession的close、更新和删除和插入的commit、clearCache方法、映射文件xml配置flushcahche=true

插件（Interceptor）：MyBatis 的插件机制允许你在 SQL 执行过程中拦截和修改 SQL 语句、参数和结果。你可以编写自定义插件来实现额外的功能，如日志记录、性能监控等。

1.使用动态代理对mybatis的特定方法进行增强，对特定方法增强，在方法前或者方法后做处理  interceptor.plugin(target)；
2.比如redis的插件，支持使用redis的缓存机制对分布式做缓存

事务管理：MyBatis 可以与事务管理器集成，例如使用 JDBC 的事务管理或使用 Spring 框架的声明式事务管理。你可以在配置文件中配置事务管理器，并在需要时使用事务来保证数据的一致性